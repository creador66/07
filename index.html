<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Explicación: Deportes Hoy (versión para exponer)</title>
  <meta name="description" content="Página que muestra, en palabras simples, cómo funciona la demo 'Deportes Hoy'." />
  <style>
    :root{
      --bg: #f3f7fb;
      --card: #ffffff;
      --muted: #6d7682;
      --accent: #2b7be4;
      --accent-2: #3aa0ff;
      --glass: rgba(255,255,255,0.6);
      --radius: 12px;
      font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
      color: #10202f;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background: linear-gradient(180deg,var(--bg),#f8fbff 300px);
      padding:16px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }
    header{
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:18px;
    }
    .logo{
      width:56px;height:56px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      color:#fff;display:grid;place-items:center;font-weight:800;
      box-shadow: 6px 8px 20px rgba(43,123,228,0.12);
      flex:0 0 56px;
    }
    h1{font-size:1.05rem;margin:0}
    p.lead{margin:4px 0 0 0;color:var(--muted);font-size:0.95rem}

    main{display:grid;grid-template-columns:1fr 320px;gap:18px}
    .content{min-width:0}
    .card{
      background:var(--card);
      border-radius:var(--radius);
      padding:14px;
      box-shadow: 0 8px 26px rgba(20,40,60,0.06);
      margin-bottom:12px;
    }
    .section-title{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .section-title h2{font-size:1rem;margin:0}
    .muted{color:var(--muted);font-size:0.9rem}

    .sections { display:flex; flex-direction:column; gap:10px; margin-top:8px; }
    .section-body{ margin-top:10px; color:#24343f; font-size:0.95rem; }
    ul.simple { padding-left:18px; margin:8px 0; }
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    .btn{
      border:0;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700;
      background:linear-gradient(180deg,#fff,#f0f8ff);box-shadow: 0 6px 18px rgba(20,40,60,0.06);
    }
    .btn.primary{background:linear-gradient(180deg,var(--accent),var(--accent-2));color:white}

    aside.sidebar{position:sticky;top:18px;height:fit-content}
    .hint{font-size:0.9rem;color:var(--muted);margin-top:8px}

    /* Collapsible small icon */
    .collapse-toggle{background:transparent;border:0;font-size:1rem;cursor:pointer;color:var(--accent);font-weight:800}

    /* Responsive */
    @media (max-width: 900px){
      main{grid-template-columns:1fr; padding-bottom:60px}
      aside.sidebar{position:static}
    }

    /* small code box */
    pre.code {
      background: #0b1a2b; color: #cfe8ff; padding:12px; border-radius:8px; overflow:auto; font-size:0.88rem;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">DH</div>
    <div>
      <h1>Explicación simple — “Deportes Hoy”</h1>
      <p class="lead">Una página pensada para exponer: lenguaje claro, pasos y detalles técnicos resumidos.</p>
    </div>
  </header>

  <main>
    <section class="content">
      <div class="card">
        <div class="section-title">
          <h2>Resumen rápido (qué es esto)</h2>
          <div class="muted">Lectura: <strong>~2 min</strong></div>
        </div>

        <div class="section-body" id="intro"></div>

        <div class="controls" style="margin-top:12px">
          <!-- ejemplo de onclick con ternaria pasada como parámetro -->
          <button class="btn" onclick="toggleAll( (allOpen ? false : true) ? 'open' : 'close' )">
            <span id="toggleAllLabel">Abrir todo</span>
          </button>
          <button class="btn primary" onclick="scrollToSection('howItWorks')">Ir a 'Cómo funciona'</button>
        </div>
      </div>

      <div class="card" id="howItWorks">
        <div class="section-title">
          <h2>Explicación paso a paso (palabras simples)</h2>
          <button class="collapse-toggle" onclick="toggleSection('steps')">Mostrar / Ocultar</button>
        </div>
        <div class="section-body sections" id="steps"></div>
      </div>

      <div class="card">
        <div class="section-title">
          <h2>Detalles técnicos breves</h2>
          <div class="muted">HTML · CSS · JS</div>
        </div>
        <div class="section-body" id="technical"></div>
      </div>

      <div class="card">
        <div class="section-title">
          <h2>Resumen para exponer (guion)</h2>
        </div>
        <div class="section-body" id="script"></div>
      </div>

      <div class="card">
        <div class="section-title">
          <h2>Snippet útil: cómo leer el id en article.html</h2>
        </div>
        <div class="section-body">
          <pre class="code" id="codeSnippet">
// Ejemplo para article.html: obtener id y mostrar artículo
const params = new URLSearchParams(location.search);
const id = params.get('id'); // "1", "2", ...
// buscar en array "articles" o fetch('/api/articles/'+id)
          </pre>
        </div>
      </div>
    </section>

    <aside class="sidebar">
      <div class="card">
        <h3 style="margin:0 0 8px 0">Navegación rápida</h3>
        <ul class="simple">
          <li><a href="#howItWorks">Cómo funciona</a></li>
          <li><a href="#intro">Resumen</a></li>
          <li><a href="#codeSnippet">Snippet</a></li>
        </ul>
        <p class="hint">Usa los botones para abrir/ocultar secciones. El contenido está generado desde JSON.</p>
      </div>

      <div class="card">
        <h3 style="margin:0 0 8px 0">Consejos para exponer</h3>
        <ul class="simple">
          <li>Habla claro y despacio.</li>
         <li>
  Muestra un ejemplo en vivo (abrir <code>article.html?id=3</code>).<br>
  Explicación: Cuando haces clic en este enlace, el navegador genera una URL que apunta a la página <code>article.html</code> y le agrega al final de la misma url que se armó el <code>?id=3</code>. 
  Esa parte <code>?id=3</code> se llama “query string” y contiene información que la página de destino puede usar.  
  Al cargar <code>article.html</code>, un script en esa página lee ese ID y busca en su propia lista de artículos cuál coincide con el número 3, mostrando solo la noticia correspondiente.  
  De esta manera se forman todos los hipervínculos que llevan a noticias específicas.
</li>

          <li>Explica una sola idea por diapositiva.</li>
        </ul>
      </div>
    </aside>
  </main>

  <script>
    /***********************
     * Datos (JSON) que generan la página.
     * Se renderiza todo con innerHTML como pediste.
     ***********************/
    const explanationData = {
      intro: "Esta demo es una página de noticias deportivas pequeña. Sirve para mostrar cómo se organizan los artículos, cómo el slider destaca noticias y cómo los enlaces llevan a una página de detalle. Es ideal para explicar en 3 pasos: qué es, cómo interactuar y cómo se implementa técnicamente.",
      steps: [
        {
          title: "1) Estructura básica (HTML)",
          text: "La página tiene: un encabezado con búsqueda, un area principal con el slider y la lista de artículos, y una barra lateral con categorías y enlaces rápidos."
        },
        {
          title: "2) Datos (el array articles)",
          text: "Los artículos están en un array de objetos (id, título, autor, fecha, resumen, imagen). Es el origen único de datos en esta demo."
        },
        {
          title: "3) Renderizado dinámico (JS)",
          text: "Funciones como renderArticles() y buildHeroSlides() crean tarjetas y slides con innerHTML usando los datos. Al filtrar o buscar, se vuelve a llamar a renderArticles()."
        },
        {
          title: "4) Interacción",
          text: "Búsqueda en tiempo real, chips de categoría que filtran, botón de refrescar que mezcla los artículos y slider automático que se pausa al tocarlo."
        },
        {
          title: "5) Navegación a detalle",
          text: "Los enlaces son <a href='article.html?id=1'>article.html?id=1</a>. El navegador carga esa página y allí se puede leer el id con URLSearchParams para mostrar el artículo."
        },
        {
          title: "6) Seguridad básica",
          text: "Se usa escapeHtml() al insertar texto para evitar que caracteres especiales rompan el HTML. Mejor usar textContent cuando se inserta solo texto."
        }
      ],
      technical: "El JavaScript principal hace: leer referencias DOM, obtener categorías únicas, filtrar artículos por categoría y búsqueda, construir slides, manejar temporizador para cambio automático y pausar en hover/touch. El CSS usa variables y media queries para ser responsivo.",
      script: "Guion sugerido para exponer:\n1. Presentación rápida (30s): qué es la demo.\n2. Mostrar la lista y el slider (40s): interactuar con búsqueda y categorías.\n3. Explicar cómo se abre article.html?id=X (30s): enseñar URL y snippet.\n4. Conclusión y preguntas (20s)."
    };

    // Estado de UI
    let allOpen = false;
    const sectionsOpen = {};

    // Helpers
    function escapeHtml(s){
      return String(s || '').replace(/[&<>"]/g, ch => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[ch]));
    }

    // Render intro
    document.getElementById('intro').innerHTML = `<strong>En pocas palabras:</strong> ${escapeHtml(explanationData.intro)}`;

    // Render step sections (JSON -> DOM using innerHTML)
    const stepsEl = document.getElementById('steps');
    stepsEl.innerHTML = explanationData.steps.map((sec, idx)=>{
      const id = 'sec' + idx;
      sectionsOpen[id] = true; // por defecto abierto
      return `
        <div class="card" id="${id}" style="padding:10px;">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>${escapeHtml(sec.title)}</strong>
            <button class="btn" onclick="toggleSection('${id}')">${'Ocultar'}</button>
          </div>
          <div class="section-body" style="margin-top:8px">${escapeHtml(sec.text)}</div>
        </div>
      `;
    }).join('');

    // Render technical & script
    document.getElementById('technical').innerHTML = escapeHtml(explanationData.technical).replaceAll('\n','<br>');
    document.getElementById('script').innerHTML = escapeHtml(explanationData.script).replaceAll('\n','<br>');

    // Toggle a single section (uses class-based state)
    function toggleSection(id){
      const el = document.getElementById(id);
      if(!el) return;
      const content = el.querySelector('.section-body') || el.querySelector(':scope > .section-body');
      // If content exists: hide/show by toggling display
      if(content){
        const isHidden = content.style.display === 'none';
        content.style.display = isHidden ? '' : 'none';
        // update button text (the button is next to the title)
        const btn = el.querySelector('button');
        if(btn) btn.textContent = isHidden ? 'Ocultar' : 'Mostrar';
        sectionsOpen[id] = isHidden;
      } else {
        // si no hay .section-body simplemente toggleentera la card
        el.style.display = el.style.display === 'none' ? '' : 'none';
      }
    }

    // Toggle all sections (recibe 'open' o 'close' desde onclick usando ternaria)
    function toggleAll(mode){
      const open = mode === 'open';
      allOpen = open;
      // actualizar label del botón
      document.getElementById('toggleAllLabel').textContent = open ? 'Ocultar todo' : 'Abrir todo';
      // toggle todos los .section-body dentro de steps
      Array.from(stepsEl.children).forEach(card=>{
        const body = card.querySelector('.section-body');
        const btn = card.querySelector('button');
        if(body){
          body.style.display = open ? '' : 'none';
          if(btn) btn.textContent = open ? 'Ocultar' : 'Mostrar';
        }
      });
    }

    // Scroll helper
    function scrollToSection(id){
      const el = document.getElementById(id);
      if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
    }

    // Inicial: cerrar todos (opcional)
    (function init(){
      // Por defecto dejamos las tarjetas principales visibles, pero cerramos los detalles si la pantalla es pequeña
      if(window.innerWidth < 600){
        toggleAll('close'); // usa la función con string (open/close)
      } else {
        // asegurarnos que el label esté correcto
        document.getElementById('toggleAllLabel').textContent = 'Ocultar todo';
        allOpen = true;
      }
    })();

    // Pequeña demo: mostrar cómo se leería un id (simulación)
    // Este fragmento solo añade una línea explicativa en la parte inferior
    const demoLine = document.createElement('div');
    demoLine.className = 'muted';
    demoLine.style.marginTop = '8px';
    demoLine.textContent = 'Ejemplo: si haces click en un enlace como article.html?id=3, la página destino puede leer el id con URLSearchParams.';
    document.querySelector('.content').appendChild(demoLine);

    // Accessibility: allow keyboard toggle with Enter on buttons created dynamically
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){
        // cerrar todo como ejemplo
        toggleAll('close');
      }
    });
  </script>
</body>
</html>
